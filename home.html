<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wedding Invitation - Zen & Yessica</title>
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&family=Playfair+Display:ital,wght@0,400;0,500;1,400&display=swap" rel="stylesheet">
    
    <style>
        /* Custom fonts to match the theme */
        @font-face {
            font-family: "White Angelica";
            src: url("font/WhiteAngelica.ttf") format("truetype");
            font-display: swap;
        }
        
        @font-face {
            font-family: "Mrs Eaves";
            src: url("font/MrsEaves.ttf") format("truetype");
            font-display: swap;
        }

        :root {
            --accent: #6b8e72;
            --accent-2: #557a60;
            --forest: #26352b;
            --ivory: #fffdf5;
            --warm-gold: #d4a574;
            --sunset-orange: #c8956d;
            --deep-burgundy: #6b4a3e;
            --soft-cream: #f5f0e8;
            --mountain-mist: rgba(139, 108, 91, 0.3);
            --text-glow: rgba(212, 165, 116, 0.6);
        }

        * {
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            margin: 0;
            font-family: "Mrs Eaves", "Playfair Display", Georgia, serif;
        }

        body {
            color: var(--forest);
            background: url("image/BG1.png") center/cover no-repeat fixed;
            overflow-x: hidden;
            position: relative;
        }

        /* Smooth entrance animation */
        body {
            animation: smoothEntrance 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }

        @keyframes smoothEntrance {
            from {
                opacity: 0;
                transform: scale(1.02);
                filter: blur(3px);
            }
            to {
                opacity: 1;
                transform: scale(1);
                filter: blur(0px);
            }
        }

        /* Welcome overlay with image */
        .welcome-overlay {
            position: fixed;
            inset: 0;
            z-index: 100;
            background: linear-gradient(135deg, 
                rgba(245, 240, 232, 0.95) 0%, 
                rgba(255, 253, 245, 0.92) 100%);
            backdrop-filter: blur(20px);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
            visibility: visible;
            transition: all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .welcome-overlay.hidden {
            opacity: 0;
            visibility: hidden;
            transform: scale(1.1);
        }

        .welcome-content {
            text-align: center;
            animation: welcomeFloat 2.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
        }

        .welcome-image {
            width: min(400px, 80vw);
            height: auto;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(107, 74, 62, 0.3);
            margin-bottom: 2rem;
            filter: drop-shadow(0 10px 25px rgba(107, 74, 62, 0.2));
        }

        .welcome-text {
            font-family: "White Angelica", 'Great Vibes', cursive;
            font-size: clamp(2rem, 6vw, 3.5rem);
            color: var(--accent);
            margin-bottom: 1rem;
            text-shadow: 0 2px 15px var(--text-glow);
        }

        .welcome-subtitle {
            font-family: "Mrs Eaves", serif;
            color: var(--warm-gold);
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            margin-bottom: 2rem;
            opacity: 0.9;
        }

        @keyframes welcomeFloat {
            0% {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
                filter: blur(5px);
            }
            100% {
                opacity: 1;
                transform: translateY(0) scale(1);
                filter: blur(0px);
            }
        }

        /* Scrolling sections */
        #snap {
            height: 100vh;
            overflow-y: auto;
            scroll-snap-type: y proximity;
            scroll-behavior: smooth;
            opacity: 0;
            transition: opacity 1s ease;
        }

        #snap.visible {
            opacity: 1;
        }

        section.s {
            position: relative;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: clamp(24px, 5vh, 48px) 18px;
            scroll-snap-align: start;
            scroll-snap-stop: always;
            transform: translateZ(0);
        }

        /* Hero overlay for readability */
        .hero::before {
            content: "";
            position: absolute;
            inset: 0;
            z-index: 0;
            background:
                radial-gradient(ellipse 120% 80% at 50% 30%, 
                    rgba(107, 74, 62, 0.35) 0%, 
                    rgba(139, 108, 91, 0.15) 40%, 
                    rgba(212, 165, 116, 0.08) 70%, 
                    rgba(107, 74, 62, 0.25) 100%);
            pointer-events: none;
        }

        .hero > .inner {
            position: relative;
            z-index: 1;
        }

        /* Elegant Cards */
        .inner {
            width: min(960px, 92vw);
            border-radius: 24px;
            padding: clamp(32px, 4vw, 48px);
            background: linear-gradient(135deg, 
                rgba(255, 253, 245, 0.95) 0%, 
                rgba(245, 240, 232, 0.92) 100%);
            border: 2px solid rgba(212, 165, 116, 0.2);
            box-shadow: 
                0 25px 50px rgba(107, 74, 62, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            backdrop-filter: blur(15px);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .inner:hover {
            transform: translateY(-5px);
            box-shadow: 
                0 35px 70px rgba(107, 74, 62, 0.2),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
        }

        .inner.transparent {
            background: transparent;
            box-shadow: none;
            border: none;
        }

        .inner.transparent:hover {
            transform: none;
            box-shadow: none;
        }

        /* Enhanced Typography */
        h1.title {
            color: var(--soft-cream);
            font-family: "White Angelica", 'Great Vibes', cursive;
            font-size: clamp(3rem, 8vw, 6rem);
            margin: 0 0 16px;
            text-shadow: 
                0 8px 32px rgba(107, 74, 62, 0.6),
                0 4px 16px rgba(212, 165, 116, 0.4),
                0 0 25px rgba(245, 240, 232, 0.3);
            line-height: 1.1;
        }

        .names {
            font-family: "White Angelica", 'Great Vibes', cursive;
            color: var(--soft-cream);
            margin: 12px 0 16px;
            font-size: clamp(2.5rem, 8vw, 5rem);
            text-shadow: 
                0 4px 20px rgba(107, 74, 62, 0.5),
                0 0 30px rgba(245, 240, 232, 0.3);
            line-height: 1.1;
        }

        .quote {
            color: var(--soft-cream);
            text-shadow: 0 2px 12px rgba(107, 74, 62, 0.4);
            max-width: 760px;
            margin: 20px auto 30px;
            font-size: clamp(16px, 3vw, 18px);
            line-height: 1.7;
            font-style: italic;
        }

        h2 {
            color: var(--accent);
            margin: 0 0 1.5rem;
            font-size: clamp(28px, 5vw, 36px);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        h3 {
            color: var(--accent-2);
            margin: 0 0 1rem;
            font-size: clamp(20px, 3.5vw, 24px);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .subtle {
            color: var(--warm-gold);
            margin-top: 1rem;
            text-shadow: 0 2px 8px var(--text-glow);
            font-size: clamp(14px, 2.5vw, 16px);
        }

        /* Enhanced Countdown */
        #countdown {
            display: flex;
            gap: 16px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 2.5rem 0;
        }

        .chip {
            min-width: 120px;
            text-align: center;
            padding: 16px 20px;
            border-radius: 18px;
            background: linear-gradient(135deg, 
                rgba(245, 240, 232, 0.8) 0%, 
                rgba(255, 253, 245, 0.9) 100%);
            border: 2px solid rgba(212, 165, 116, 0.3);
            color: var(--forest);
            box-shadow: 
                0 8px 25px rgba(107, 74, 62, 0.15),
                inset 0 1px 0 rgba(255, 255, 255, 0.4);
            backdrop-filter: blur(10px);
            transition: transform 0.3s ease;
        }

        .chip:hover {
            transform: translateY(-3px);
        }

        .chip span {
            display: block;
            font-size: clamp(24px, 5vw, 36px);
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 4px;
        }

        .chip span.pop {
            animation: pop 0.6s cubic-bezier(0.22, 0.61, 0.36, 1);
        }

        @keyframes pop {
            0% { transform: scale(0.8); opacity: 0.6; }
            60% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }

        /* Enhanced Buttons */
        .btn, .cta a {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            padding: 14px 32px;
            border: none;
            border-radius: 50px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--sunset-orange) 100%);
            color: var(--ivory);
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            box-shadow: 
                0 12px 30px rgba(200, 149, 109, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            font-family: 'Mrs Eaves', serif;
            font-size: 16px;
            border: 2px solid rgba(212, 165, 116, 0.3);
        }

        .btn:hover, .cta a:hover {
            background: linear-gradient(135deg, var(--accent-2) 0%, var(--deep-burgundy) 100%);
            transform: translateY(-3px) scale(1.02);
            box-shadow: 
                0 16px 40px rgba(200, 149, 109, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border-color: rgba(212, 165, 116, 0.4);
        }

        .cta {
            text-align: center;
            margin-top: 2rem;
        }

        /* Floating Action Buttons */
        .round-fab, .ai-fab {
            position: fixed;
            z-index: 60;
            width: 64px;
            height: 64px;
            border: none;
            border-radius: 50%;
            display: grid;
            place-items: center;
            cursor: pointer;
            color: var(--ivory);
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%);
            border: 2px solid rgba(212, 165, 116, 0.4);
            box-shadow: 
                0 15px 35px rgba(200, 149, 109, 0.4),
                inset 0 1px 0 rgba(255, 255, 255, 0.2);
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .round-fab:hover, .ai-fab:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 
                0 20px 45px rgba(200, 149, 109, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
        }

        #music {
            bottom: 24px;
            right: 24px;
        }

        #aiFab {
            bottom: 100px;
            right: 24px;
        }

        /* Enhanced Form Styles */
        form {
            max-width: 600px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            text-align: left;
        }

        form input, form textarea, form select {
            padding: 16px 20px;
            border: 2px solid rgba(212, 165, 116, 0.2);
            border-radius: 12px;
            font-size: 16px;
            background: rgba(255, 255, 255, 0.95);
            font-family: "Mrs Eaves", serif;
            transition: all 0.3s ease;
        }

        form input:focus, form textarea:focus, form select:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(107, 142, 114, 0.1);
        }

        form textarea {
            min-height: 120px;
            resize: vertical;
        }

        /* Enhanced Info Grid */
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin: 2rem 0;
        }

        .info-card {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(135deg, 
                rgba(212, 165, 116, 0.08) 0%, 
                rgba(245, 240, 232, 0.12) 100%);
            border-radius: 16px;
            border: 2px solid rgba(212, 165, 116, 0.15);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(107, 74, 62, 0.1);
        }

        /* Enhanced Section Animations */
        .s {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .s.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Verse Section */
        .verse-section {
            text-align: center;
            padding: 3rem 2rem;
            background: linear-gradient(135deg, 
                rgba(107, 142, 114, 0.08) 0%,
                rgba(245, 240, 232, 0.6) 25%,
                rgba(255, 253, 245, 0.8) 75%,
                rgba(212, 165, 116, 0.1) 100%);
            border-radius: 20px;
            margin: 2rem 0;
            border: 2px solid rgba(212, 165, 116, 0.2);
            position: relative;
            overflow: hidden;
        }

        .verse-section::before {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(ellipse at center, 
                rgba(212, 165, 116, 0.05) 0%,
                transparent 70%);
            opacity: 0;
            transition: opacity 0.6s ease;
        }

        .verse-section:hover::before {
            opacity: 1;
        }

        .verse-text {
            font-size: clamp(18px, 3vw, 22px);
            font-style: italic;
            line-height: 1.8;
            color: var(--forest);
            margin-bottom: 1.5rem;
            font-family: "Mrs Eaves", serif;
            position: relative;
            z-index: 1;
        }

        .verse-reference {
            font-weight: 600;
            color: var(--accent);
            font-size: clamp(16px, 2.5vw, 18px);
            position: relative;
            z-index: 1;
        }

        .highlight-box {
            margin: 2rem 0;
            padding: 2rem 1.5rem;
            background: linear-gradient(135deg, 
                rgba(212, 165, 116, 0.15) 0%, 
                rgba(245, 240, 232, 0.8) 25%,
                rgba(255, 253, 245, 0.9) 75%,
                rgba(107, 142, 114, 0.12) 100%);
            border-radius: 18px;
            border: 2px solid rgba(212, 165, 116, 0.25);
            text-align: center;
            position: relative;
            overflow: hidden;
            transition: all 0.4s ease;
        }

        .highlight-box::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(45deg, 
                transparent 0%,
                rgba(212, 165, 116, 0.08) 50%,
                transparent 100%);
            transform: translateX(-100%);
            transition: transform 0.6s ease;
        }

        .highlight-box:hover::before {
            transform: translateX(100%);
        }

        .highlight-box p {
            margin: 0;
            font-style: italic;
            color: var(--accent-2);
            font-size: clamp(16px, 2.8vw, 18px);
            line-height: 1.6;
            position: relative;
            z-index: 1;
        }

        /* Mobile Responsiveness */
        @media (max-width: 768px) {
            .info-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }

            .chip {
                min-width: 100px;
                padding: 12px 16px;
            }

            .inner {
                padding: clamp(24px, 6vw, 32px);
                border-radius: 20px;
            }

            .round-fab, .ai-fab {
                width: 56px;
                height: 56px;
            }

            #music {
                bottom: 20px;
                right: 20px;
            }

            #aiFab {
                bottom: 88px;
                right: 20px;
            }

            .welcome-image {
                width: min(320px, 90vw);
            }
        }

        /* Accessibility */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
                scroll-behavior: auto !important;
            }
        }

        /* AI Panel styles (keeping the existing ones but enhanced) */
        .ai-panel {
            position: fixed;
            right: 24px;
            bottom: 170px;
            z-index: 60;
            width: min(92vw, 400px);
            max-height: 70vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, 
                rgba(255, 253, 245, 0.96) 0%, 
                rgba(245, 240, 232, 0.94) 100%);
            border-radius: 20px;
            box-shadow: 
                0 25px 50px rgba(107, 74, 62, 0.25),
                inset 0 1px 0 rgba(255, 255, 255, 0.3);
            border: 2px solid rgba(212, 165, 116, 0.3);
            opacity: 0;
            transform: translateY(20px) scale(0.95);
            pointer-events: none;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(15px);
        }

        .ai-panel.open {
            opacity: 1;
            transform: translateY(0) scale(1);
            pointer-events: auto;
        }

        .ai-head {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 2px solid rgba(212, 165, 116, 0.2);
            color: var(--accent);
            font-weight: 600;
            font-size: 16px;
        }

        .ai-close {
            background: transparent;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: var(--accent);
            padding: 6px;
            border-radius: 6px;
            transition: all 0.2s ease;
        }

        .ai-close:hover {
            background: rgba(212, 165, 116, 0.1);
            transform: scale(1.1);
        }

        .ai-body {
            padding: 16px;
            overflow-y: auto;
            flex: 1;
            max-height: 320px;
        }

        .ai-msg {
            display: flex;
            margin: 12px 0;
            animation: messageSlide 0.4s ease both;
        }

        @keyframes messageSlide {
            from {
                opacity: 0;
                transform: translateY(15px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .ai-msg.user {
            justify-content: flex-end;
        }

        .ai-bubble {
            max-width: 80%;
            padding: 12px 16px;
            border-radius: 16px;
            background: rgba(245, 240, 232, 0.9);
            border: 1px solid rgba(212, 165, 116, 0.2);
            color: var(--forest);
            line-height: 1.5;
            box-shadow: 0 2px 8px rgba(107, 74, 62, 0.1);
        }

        .ai-msg.user .ai-bubble {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%);
            color: var(--ivory);
            border-color: transparent;
        }

        .ai-form {
            display: flex;
            gap: 12px;
            padding: 16px 20px;
            border-top: 2px solid rgba(212, 165, 116, 0.2);
        }

        .ai-form input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid rgba(212, 165, 116, 0.2);
            border-radius: 12px;
            font-size: 14px;
            background: rgba(255, 255, 255, 0.95);
            transition: border-color 0.2s ease;
        }

        .ai-form input:focus {
            outline: none;
            border-color: var(--accent);
        }

        .ai-form button {
            padding: 12px 16px;
            border: none;
            border-radius: 12px;
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-2) 100%);
            color: var(--ivory);
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 12px rgba(107, 142, 114, 0.3);
        }

        .ai-form button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(107, 142, 114, 0.4);
        }
    </style>
</head>
<body>
    <!-- Welcome Overlay with Image -->
    <div id="welcomeOverlay" class="welcome-overlay">
        <div class="welcome-content">
            <img src="image/Welcome.png" alt="Welcome" class="welcome-image">
            <h1 class="welcome-text">Welcome</h1>
            <p class="welcome-subtitle">to Zen & Yessica's Wedding Celebration</p>
        </div>
    </div>

    <!-- Background Music -->
    <audio id="bgm" loop>
        <source src="music/Music-1.mp3" type="audio/mpeg">
        <source src="music/Music-1.ogg" type="audio/ogg">
    </audio>

    <!-- Music Control Button -->
    <button id="music" class="round-fab" aria-label="Play music">
        <i class="fas fa-play"></i>
    </button>

    <!-- AI Assistant Button -->
    <button id="aiFab" class="ai-fab" aria-label="Open AI Assistant">
        <i class="fas fa-robot"></i>
    </button>

    <!-- AI Chat Panel -->
    <div id="aiPanel" class="ai-panel">
        <div class="ai-head">
            <strong>🤖 Aira - Wedding Assistant</strong>
            <button id="aiClose" class="ai-close">&times;</button>
        </div>
        <div id="aiBody" class="ai-body"></div>
        <form id="aiForm" class="ai-form">
            <input id="aiText" type="text" placeholder="Ask me anything about the wedding..." autocomplete="off">
            <button type="submit">
                <i class="fas fa-paper-plane"></i>
            </button>
        </form>
    </div>

    <!-- Main Content with Scroll Snap -->
    <div id="snap">
        <!-- Hero Section -->
        <section class="s hero">
            <div class="inner transparent">
                <p id="dearLine" class="subtle" style="display:none;">Dear Guest</p>
                <h1 class="title">SAVE THE DATE</h1>
                <div class="names">Zen & Yessica</div>
                <p class="quote">
                    "Marriage is an act of worship, and every act of worship leads to His love as its ultimate goal. 
                    It is only fitting that every effort to attain His love is pursued with joy."
                </p>
                
                <!-- Countdown Timer -->
                <div id="countdown">
                    <div class="chip">
                        <span id="d">00</span>
                        Days
                    </div>
                    <div class="chip">
                        <span id="h">00</span>
                        Hours
                    </div>
                    <div class="chip">
                        <span id="m">00</span>
                        Minutes
                    </div>
                    <div class="chip">
                        <span id="s">00</span>
                        Seconds
                    </div>
                </div>

                <div class="cta">
                    <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Zen+%26+Yessica+Wedding&dates=20260117T030000Z/20260117T090000Z&details=Join+us+for+our+wedding+day!&location=Gereja+Santo+Fransiskus+Asisi,+Cibinong" 
                       target="_blank" class="btn">
                        💚 Save the Date
                    </a>
                </div>
            </div>
        </section>

        <!-- Wedding Details -->
        <section class="s">
            <div class="inner">
                <h2>🌄 Wedding Day Details</h2>
                <div style="margin: 2rem 0;">
                    <h3>📅 Date & Time</h3>
                    <p style="font-size: 18px; margin: 0.5rem 0;"><strong>Saturday, 17 January 2026</strong></p>
                    <p style="color: var(--accent-2); font-size: 16px;">09:00 AM (WIB)</p>
                </div>
                
                <div style="margin: 2rem 0;">
                    <h3>⛪ Holy Matrimony</h3>
                    <p style="font-size: 18px; margin: 0.5rem 0;"><strong>Gereja Santo Fransiskus Asisi</strong></p>
                    <p style="color: var(--accent-2); margin-bottom: 1rem;">Cibinong, Bogor</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Gereja+Santo+Fransiskus+Asisi,+Cibinong" 
                       target="_blank" class="btn">
                        🗺️ View Location
                    </a>
                </div>

                <div style="margin: 2rem 0;">
                    <h3>🎉 Reception</h3>
                    <p style="font-size: 18px; margin: 0.5rem 0;"><strong>Bagas Raya</strong></p>
                    <p style="color: var(--accent-2); margin-bottom: 1rem;">Cibinong, Bogor</p>
                    <a href="https://www.google.com/maps/search/?api=1&query=Bagas+Raya+Cibinong" 
                       target="_blank" class="btn">
                        🗺️ View Location
                    </a>
                </div>

                <div class="highlight-box">
                    <p>💒 Join us as we begin our journey together in God's love</p>
                </div>
            </div>
        </section>

        <!-- Bible Verse -->
        <section class="s">
            <div class="inner">
                <h2>✨ God's Word for Us</h2>
                <div class="verse-section">
                    <div class="verse-container">
                        <div class="verse-quote">
                            <p class="verse-text">
                                So they are no longer two, but one flesh.<br>
                                What therefore God has joined together,<br>
                                let no man separate.
                            </p>
                        </div>
                        <p class="verse-reference">Matthew 19:6</p>
                    </div>
                </div>
                
                <div class="highlight-box">
                    <p>🙏 We believe that marriage is a sacred covenant blessed by God, 
                    where two hearts become one in His divine love and grace.</p>
                </div>
            </div>
        </section>

        <!-- Our Story -->
        <section class="s">
            <div class="inner">
                <h2>💕 Our Love Story</h2>
                <div style="margin: 2rem 0;">
                    <h3>🌟 How We Met</h3>
                    <p style="line-height: 1.7; font-size: 16px; color: var(--forest);">
                        Our paths crossed in God's perfect timing, and what started as friendship 
                        blossomed into a beautiful love story guided by His grace.
                    </p>
                </div>
                
                <div style="margin: 2rem 0;">
                    <h3>📅 Our Journey</h3>
                    <p style="font-size: 16px; margin: 0.5rem 0;"><strong>Dating Anniversary:</strong> 28 May 2019</p>
                    <p style="line-height: 1.7; margin-top: 1rem; color: var(--forest);">
                        Together for <strong id="relationshipYears" style="color: var(--accent);">7 years</strong> and counting! 
                        Through every season, our love has grown stronger with faith as our foundation.
                    </p>
                </div>

                <div style="margin: 2rem 0;">
                    <h3>💙💛 About Us</h3>
                    <div class="info-grid">
                        <div class="info-card">
                            <h4 style="color: var(--accent); margin-bottom: 1rem; font-size: 20px;">Zen</h4>
                            <p style="margin: 0.5rem 0;">Favorite Color: <strong style="color: #4A90E2;">Blue 💙</strong></p>
                            <p style="margin: 0.5rem 0;">Dream: <strong>House in the mountains 🏔️</strong></p>
                        </div>
                        <div class="info-card">
                            <h4 style="color: var(--accent); margin-bottom: 1rem; font-size: 20px;">Yessica</h4>
                            <p style="margin: 0.5rem 0;">Favorite Color: <strong style="color: #FFD700;">Yellow 💛</strong></p>
                            <p style="margin: 0.5rem 0;">Our Dream: <strong>Happy family 👨‍👩‍👧‍👦</strong></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- RSVP Section -->
        <section class="s" id="rsvp">
            <div class="inner">
                <h2>💌 RSVP & Wedding Notes</h2>
                <p style="text-align: center; margin-bottom: 2rem; color: var(--accent-2); font-size: 18px;">
                    Please let us know if you can celebrate with us! 💝
                </p>
                
                <form id="rsvpForm">
                    <input type="hidden" name="token" value="ZENYESSICA2026">
                    <input type="hidden" id="referer" name="referer">
                    
                    <input name="Name" type="text" placeholder="Your Name 💝" required>
                    
                    <textarea name="Notes" placeholder="Share your wishes, prayers, or a special message for us... ✨" rows="4"></textarea>
                    
                    <select name="Attendance" required>
                        <option value="">-- Will you be joining us? --</option>
                        <option value="Yes">💖 Yes, I'll be there!</option>
                        <option value="No">🌸 Sorry, can't make it</option>
                    </select>
                    
                    <button type="submit" class="btn" style="width: 100%; margin-top: 1rem; font-size: 18px;">
                        💌 Send RSVP
                    </button>
                </form>
                
                <div id="responseMsg" style="text-align: center; margin-top: 1.5rem; font-weight: 600; font-size: 16px;"></div>
            </div>
        </section>

        <!-- Guest Notes -->
        <section class="s">
            <div class="inner">
                <h2>💕 Messages from Our Loved Ones</h2>
                <div id="notesContainer" style="margin: 2rem 0;">
                    <p style="text-align: center; color: var(--accent-2); font-style: italic;">Loading messages...</p>
                </div>
                
                <div class="pagination" style="display: flex; gap: 12px; justify-content: center; margin-top: 2rem;">
                    <button id="prevBtn" class="btn" disabled style="opacity: 0.6;">← Previous</button>
                    <button id="nextBtn" class="btn" disabled style="opacity: 0.6;">Next →</button>
                </div>
            </div>
        </section>

        <!-- Thank You -->
        <section class="s">
            <div class="inner" style="text-align: center;">
                <h2>🙏 Thank You</h2>
                <div style="margin: 3rem 0;">
                    <p style="font-size: 20px; line-height: 1.7; color: var(--forest); margin-bottom: 2rem;">
                        We are so grateful for your love, support, and prayers as we begin this new chapter together.
                    </p>
                    <p style="font-size: 20px; line-height: 1.7; color: var(--forest); margin-bottom: 2rem;">
                        Your presence in our lives means the world to us, and we can't wait to celebrate with you!
                    </p>
                    <div class="highlight-box">
                        <p style="font-size: 18px; font-weight: 500;">
                            "Two hearts, one love, blessed by God above" 💒
                        </p>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer style="text-align: center; color: var(--deep-burgundy); padding: 2rem; font-weight: 600; text-shadow: 0 1px 1px rgba(245, 240, 232, 0.6); background: linear-gradient(135deg, rgba(245, 240, 232, 0.1) 0%, rgba(212, 165, 116, 0.05) 100%);">
        <p>Made with 💚 for Zen & Yessica | January 17, 2026</p>
    </footer>

    <!-- JavaScript -->
    <script>
        // ===== Early Guard =====
        (function(){
            try{
                const qp = new URLSearchParams(location.search);
                if (qp.get('opened') !== '1') {
                    location.replace('index.html' + (location.search || ''));
                }
            }catch(e){}
        })();

        // ===== Welcome Screen Management =====
        document.addEventListener('DOMContentLoaded', function() {
            const welcomeOverlay = document.getElementById('welcomeOverlay');
            const snapContainer = document.getElementById('snap');
            
            // Show welcome screen for 3 seconds
            setTimeout(() => {
                welcomeOverlay.classList.add('hidden');
                setTimeout(() => {
                    snapContainer.classList.add('visible');
                    // Initialize scroll animations after welcome screen is gone
                    initializeScrollAnimations();
                }, 500);
            }, 3000);

            // Click to skip welcome screen
            welcomeOverlay.addEventListener('click', () => {
                welcomeOverlay.classList.add('hidden');
                setTimeout(() => {
                    snapContainer.classList.add('visible');
                    initializeScrollAnimations();
                }, 300);
            });
        });

        // ===== Scroll Animations =====
        function initializeScrollAnimations() {
            const sections = document.querySelectorAll('.s');
            
            const observerOptions = {
                threshold: 0.2,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, observerOptions);

            sections.forEach(section => {
                observer.observe(section);
            });
        }

        // ===== CONFIG =====
        const WEDDING_DATE = new Date("2026-01-17T09:00:00+07:00");
        const scriptURL = "https://script.google.com/macros/s/AKfycbwRSHvhi28_Fes26DuLR8Ywf0zqY2U7ePzQCdb_4vyUH_Nq0_culqdSfb1U7tajj8zT/exec";

        // ===== MUSIC =====
        const audio = document.getElementById("bgm");
        const musicBtn = document.getElementById("music");
        const musicIcon = musicBtn.querySelector("i");

        function setPlayUI(playing) {
            if (playing) {
                musicIcon.classList.remove("fa-play");
                musicIcon.classList.add("fa-pause");
                musicBtn.setAttribute("aria-label", "Pause music");
            } else {
                musicIcon.classList.remove("fa-pause");
                musicIcon.classList.add("fa-play");
                musicBtn.setAttribute("aria-label", "Play music");
            }
        }

        musicBtn.addEventListener("click", () => {
            if (audio.paused) {
                audio.play().then(() => { setPlayUI(true); sessionStorage.removeItem("autoplay"); })
                            .catch(() => setPlayUI(false));
            } else {
                audio.pause(); setPlayUI(false);
            }
        });

        // Autoplay if set by index.html
        function tryAutoplay(){
            audio.play().then(() => { setPlayUI(true); sessionStorage.removeItem("autoplay"); })
                        .catch(() => setPlayUI(false));
        }

        document.addEventListener("DOMContentLoaded", () => {
            if (sessionStorage.getItem("autoplay") === "1") {
                // Delay autoplay until after welcome screen
                setTimeout(() => {
                    requestAnimationFrame(tryAutoplay);
                    setTimeout(tryAutoplay, 150);
                }, 3500);
            }
        });

        window.addEventListener("pageshow", () => {
            if (sessionStorage.getItem("autoplay") === "1") tryAutoplay();
        });

        document.addEventListener("click", function once(){
            if (audio.paused) tryAutoplay();
            document.removeEventListener("click", once);
        }, { once:true });

        document.addEventListener("visibilitychange", () => {
            if (document.hidden) { audio.pause(); setPlayUI(false); }
        });

        // ===== COUNTDOWN =====
        const dEl = document.getElementById("d"),
              hEl = document.getElementById("h"),
              mEl = document.getElementById("m"),
              sEl = document.getElementById("s");
        let prev = {};

        const pop = (el, v, k) => {
            if (prev[k] !== v) {
                el.textContent = v;
                el.classList.remove("pop");
                void el.offsetWidth;
                el.classList.add("pop");
                prev[k] = v;
            }
        };

        function tick(){
            const t = WEDDING_DATE.getTime(), now = Date.now(), diff = t - now;
            const wrap = document.getElementById("countdown");
            if (diff <= 0) { 
                wrap.innerHTML = '<div class="chip" style="background: linear-gradient(135deg, var(--warm-gold) 0%, var(--sunset-orange) 100%); color: var(--ivory); font-size: 20px; padding: 20px 30px;">🎉 Today is the wedding day!</div>'; 
                return; 
            }
            pop(dEl, Math.floor(diff/86400000), "d");
            pop(hEl, Math.floor((diff%86400000)/3600000), "h");
            pop(mEl, Math.floor((diff%3600000)/60000), "m");
            pop(sEl, Math.floor((diff%60000)/1000), "s");
        }

        setInterval(tick, 1000);
        tick();

        // ===== Dear Guest =====
        (function(){
            const to = new URLSearchParams(location.search).get("to");
            if (to) {
                const el = document.getElementById("dearLine");
                el.textContent = `Dear ${to}`;
                el.style.display = "block";
            }
        })();

        // ===== RSVP & NOTES =====
        document.getElementById("referer").value = location.hostname;
        const form = document.getElementById("rsvpForm");
        const msg = document.getElementById("responseMsg");

        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            if (!form.Name.value.trim() || !form.Attendance.value) {
                msg.textContent = "⚠️ Please fill out name and attendance 🌸";
                msg.style.color = "#c66";
                return;
            }
            msg.textContent = "⏳ Sending...";
            msg.style.color = "#666";
            try {
                const r = await fetch(scriptURL, { method: "POST", body: new FormData(form) });
                const data = await r.json();
                if (data.status === "success") {
                    msg.textContent = "✅ RSVP berhasil dikirim! Thank you 💕";
                    msg.style.color = "var(--accent)";
                    form.reset();
                    currentPage = 1;
                    loadNotes();
                } else if (data.status === "duplicate") {
                    msg.textContent = "⚠️ You already submitted recently.";
                    msg.style.color = "#bb8a4e";
                } else if (data.status === "unauthorized" || data.status === "forbidden") {
                    msg.textContent = "❌ Access denied. Please open from official link.";
                    msg.style.color = "crimson";
                } else {
                    msg.textContent = "❌ Gagal mengirim RSVP.";
                    msg.style.color = "crimson";
                }
            } catch(err) {
                msg.textContent = "❌ Error: " + err;
                msg.style.color = "crimson";
            }
        });

        function timeAgo(ts){
            const now = new Date(), d = new Date(ts), s = (now - d) / 1000;
            if (s < 60) return "baru saja";
            const m = Math.floor(s / 60);
            if (m < 60) return `${m} menit lalu`;
            const h = Math.floor(m / 60);
            if (h < 24) return `${h} jam lalu`;
            const day = Math.floor(h / 24);
            if (day < 7) return `${day} hari lalu`;
            const w = Math.floor(day / 7);
            if (w < 4) return `${w} minggu lalu`;
            const mo = Math.floor(day / 30);
            return `${mo} bulan lalu`;
        }

        let notes = [], currentPage = 1, perPage = 5;

        async function loadNotes(){
            try {
                const res = await fetch(scriptURL);
                notes = await res.json();
                notes.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));
                renderNotes();
            } catch {
                document.getElementById("notesContainer").innerHTML = "<p style='text-align: center; color: var(--accent-2);'>❌ Gagal load notes.</p>";
            }
        }

        function renderNotes(){
            const box = document.getElementById("notesContainer");
            box.innerHTML = "";
            if (!notes.length) {
                box.innerHTML = "<p style='text-align: center; color: var(--accent-2); font-style: italic;'>No messages yet. Be the first to leave a note! 💝</p>";
                return;
            }
            const start = (currentPage - 1) * perPage;
            const page = notes.slice(start, start + perPage);
            page.forEach((n, i) => {
                const el = document.createElement("div");
                el.className = "note";
                el.style.cssText = `
                    padding: 1.5rem;
                    border-radius: 12px;
                    background: linear-gradient(135deg, rgba(245, 240, 232, 0.5) 0%, rgba(212, 165, 116, 0.1) 100%);
                    border: 1px solid rgba(212, 165, 116, 0.2);
                    margin-bottom: 1rem;
                    opacity: 0;
                    transform: translateY(20px);
                    transition: all 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94);
                    transition-delay: ${i * 100}ms;
                `;
                const icon = n.attendance === "Yes" ? "💖" : (n.attendance === "No" ? "🌸" : "");
                el.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 0.5rem;">
                        <strong style="color: var(--accent); font-size: 16px;">${(n.name || "Guest").toString().replace(/</g, "&lt;")}</strong>
                        <span style="font-size: 20px;">${icon}</span>
                    </div>
                    <p style="color: var(--forest); line-height: 1.6; margin: 0.5rem 0; font-style: italic;">${(n.notes || '').toString().replace(/</g, '&lt;')}</p>
                    <small style="color: var(--accent-2); font-size: 12px;">${timeAgo(n.timestamp)}</small>
                `;
                box.appendChild(el);
                requestAnimationFrame(() => {
                    el.style.opacity = '1';
                    el.style.transform = 'translateY(0)';
                });
            });
            
            const prevBtn = document.getElementById("prevBtn");
            const nextBtn = document.getElementById("nextBtn");
            
            prevBtn.disabled = start <= 0;
            nextBtn.disabled = start + perPage >= notes.length;
            
            prevBtn.style.opacity = prevBtn.disabled ? '0.6' : '1';
            nextBtn.style.opacity = nextBtn.disabled ? '0.6' : '1';
        }

        document.getElementById("prevBtn").addEventListener("click", () => {
            if (currentPage > 1) {
                currentPage--;
                renderNotes();
            }
        });

        document.getElementById("nextBtn").addEventListener("click", () => {
            if (currentPage * perPage < notes.length) {
                currentPage++;
                renderNotes();
            }
        });

        loadNotes();

        // ===== AIRA CHAT =====
        const KNOWLEDGE = {
            couple: "Zen & Yessica",
            date: new Date("2026-01-17T09:00:00+07:00"),
            datingAnniversary: new Date("2019-05-28T00:00:00+07:00"),
            favorites: { groomColor: "Blue", brideColor: "Yellow" },
            dreams: { groom: "House in the mountains", couple: "Happy family" },
            maps: {
                matrimony: "https://www.google.com/maps/search/?api=1&query=Gereja+Santo+Fransiskus+Asisi,+Cibinong",
                reception: "https://www.google.com/maps/search/?api=1&query=Bagas+Raya+Cibinong"
            },
            calendarLink: "https://calendar.google.com/calendar/render?action=TEMPLATE&text=Zen+%26+Yessica+Wedding&dates=20260117T030000Z/20260117T090000Z&details=Join+us+for+our+wedding+day!&location=Gereja+Santo+Fransiskus+Asisi,+Cibinong"
        };

        const aiFab = document.getElementById("aiFab");
        const aiPanel = document.getElementById("aiPanel");
        const aiClose = document.getElementById("aiClose");
        const aiBody = document.getElementById("aiBody");
        const aiForm = document.getElementById("aiForm");
        const aiText = document.getElementById("aiText");
        const guest = new URLSearchParams(location.search).get("to");

        function openAI(){
            aiPanel.classList.add("open");
            aiText.focus();
            if (!sessionStorage.getItem("aira_welcomed")) {
                botSay(`Hello${guest ? " " + guest : ""}! I'm <b>Aira</b> 👋. I can help with info about ${KNOWLEDGE.couple}'s wedding: timing, location, RSVP, directions, and more.`);
                sessionStorage.setItem("aira_welcomed", "1");
            }
        }

        function closeAI(){
            aiPanel.classList.remove("open");
        }

        aiFab.addEventListener("click", () => {
            aiPanel.classList.contains("open") ? closeAI() : openAI();
        });

        aiClose.addEventListener("click", closeAI);

        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") closeAI();
        });

        function renderMsg(role, html){
            const wrap = document.createElement("div");
            wrap.className = "ai-msg " + (role === "user" ? "user" : "ai");
            const b = document.createElement("div");
            b.className = "ai-bubble";
            b.innerHTML = html;
            wrap.appendChild(b);
            aiBody.appendChild(wrap);
            aiBody.scrollTop = aiBody.scrollHeight;
        }

        function userSay(t){
            renderMsg("user", t.replace(/[<>&"]/g, c => ({ "<": "&lt;", ">": "&gt;", "&": "&amp;", '"': "&quot;" }[c])));
        }

        function botSay(h){
            renderMsg("ai", h);
        }

        const fmtDate = d => d.toLocaleString("en-US", {
            weekday: "long",
            year: "numeric",
            month: "long",
            day: "numeric",
            hour: "2-digit",
            minute: "2-digit",
            timeZone: "Asia/Jakarta"
        });

        const formatDateShort = d => d.toLocaleDateString("en-US", {
            day: "2-digit",
            month: "long",
            year: "numeric",
            timeZone: "Asia/Jakarta"
        });

        const daysTo = d => {
            const ms = d.getTime() - Date.now();
            if (ms <= 0) return "Today is the day!";
            const DD = Math.floor(ms / 86400000);
            const HH = Math.floor((ms % 86400000) / 3600000);
            return `${DD} days ${HH} hours to go`;
        };

        function reply(text){
            const q = text.toLowerCase();
            if (/\b(hi|hello|hey|halo)\b/.test(q)) {
                return `Hello${guest ? ' ' + guest : ''}! How can Aira help you today?`;
            }
            if (/siapa|pengantin|couple|bride|groom|who/.test(q)) {
                return `This celebration is for <b>${KNOWLEDGE.couple}</b> 🥂.`;
            }
            if (/kapan|tanggal|jam|time|when|countdown|berapa hari/.test(q)) {
                return `The ceremony starts <b>${fmtDate(KNOWLEDGE.date)}</b> (WIB). <b>${daysTo(KNOWLEDGE.date)}</b> remaining.`;
            }
            if (/jadian|anniv|anniversary|dating|relationship/.test(q)) {
                return `Dating anniversary: <b>${formatDateShort(KNOWLEDGE.datingAnniversary)}</b> 💞`;
            }
            if (/warna( favorit| kesukaan)?|favorite color|blue|yellow/.test(q)){
                const g = /(zen|groom|laki|cowok|blue)/.test(q);
                const b = /(yessica|bride|perempuan|cewek|yellow)/.test(q);
                if (g) return `Zen's favorite color: <b>${KNOWLEDGE.favorites.groomColor}</b> 💙`;
                if (b) return `Yessica's favorite color: <b>${KNOWLEDGE.favorites.brideColor}</b> 💛`;
                return `Favorite colors: Zen <b>${KNOWLEDGE.favorites.groomColor}</b> 💙 & Yessica <b>${KNOWLEDGE.favorites.brideColor}</b> 💛`;
            }
            if (/impian|cita-cita|mimpi|dream|mountain|family/.test(q)) {
                return `Zen's dream: <b>${KNOWLEDGE.dreams.groom}</b> 🏔️<br>Their shared dream: <b>${KNOWLEDGE.dreams.couple}</b> 🫶`;
            }
            if (/di mana|lokasi|alamat|where|maps|arah|route|direction|location/.test(q)) {
                return `Locations: <br>• Ceremony: <a href="${KNOWLEDGE.maps.matrimony}" target="_blank" style="color: var(--accent);">Gereja Santo Fransiskus Asisi, Cibinong</a><br>• Reception: <a href="${KNOWLEDGE.maps.reception}" target="_blank" style="color: var(--accent);">Bagas Raya Cibinong</a>`;
            }
            if (/rsvp|konfirmasi|hadir|attend|daftar/.test(q)){
                setTimeout(() => document.querySelector("#rsvp").scrollIntoView({behavior: "smooth"}), 300);
                return `You can RSVP in the <b>RSVP & Notes</b> section. I've scrolled there for you 😉.`;
            }
            if (/calendar|kalender|save the date|reminder/.test(q)) {
                return `Click <a href="${KNOWLEDGE.calendarLink}" target="_blank" style="color: var(--accent);">Add to Google Calendar</a> to save the date.`;
            }
            if (/musik|music|lagu|sound/.test(q)) {
                return `The music button is in the bottom right corner (▶️/⏸️ icon).`;
            }
            if (/dress|tema|baju|warna|outfit|what to wear/.test(q)) {
                return `Safe choice: <b>semi-formal</b> in soft/pastel colors would be perfect.`;
            }
            return `I can help with: "When does it start?", "Where is it?", "Dating anniversary?", "Favorite colors?", "Dreams?", "How to RSVP?"`;
        }

        aiForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const t = aiText.value.trim();
            if (!t) return;
            userSay(t);
            botSay(reply(t));
            aiText.value = "";
        });

        // ===== Calculate Relationship Years =====
        function updateRelationshipYears() {
            const now = new Date();
            const start = new Date("2019-05-28");
            const years = Math.floor((now - start) / (1000 * 60 * 60 * 24 * 365.25));
            const element = document.getElementById("relationshipYears");
            if (element) {
                element.textContent = `${years} years`;
            }
        }

        // Initialize on page load
        document.addEventListener("DOMContentLoaded", () => {
            updateRelationshipYears();
        });
    </script>
</body>
</html>
