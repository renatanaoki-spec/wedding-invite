<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wedding Invitation - Zen & Yessica</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body, html { height:100%; font-family:Arial, sans-serif; }

    /* Desktop Layout */
    .container {
      display: flex;
      height: 100vh;
    }
    .left {
      flex: 0 0 65%;
      background: url("image/image (2).jpg") no-repeat center center/cover;
    }
    .right {
      flex: 0 0 35%;
      background: rgba(0,0,0,0.6);
      color: white;
      padding: 40px 20px;
      text-align: center;
      overflow-y: auto;   /* ‚úÖ scrollable */
    }
    .right h2 { margin-top: 30px; }

    /* Mobile Cover */
    .mobile-cover {
      display: none;
      height: 100vh;
      width: 100%;
      position: relative;
      background: url("image/images (2).jpg") no-repeat center center/cover;
      background-size: cover;
      color: white;
      text-align: center;
      justify-content: center;
      align-items: center;
    }
    .mobile-cover .overlay {
      background: rgba(0,0,0,0.5);
      padding: 40px 20px;
      border-radius: 10px;
      width: 90%;
    }
    .subtitle { font-size: 14px; letter-spacing: 2px; margin-bottom: 10px; }
    .couple { font-size: 28px; font-weight: bold; margin: 5px 0; }
    .couple span { font-family:"Times New Roman", serif; font-size: 30px; font-weight: normal; }
    .date { font-size: 14px; margin-bottom: 20px; }
    .guest p { font-size: 14px; }
    .guest h2 { font-size: 18px; font-weight: bold; margin: 5px 0 20px 0; }
    .invite-text { font-size: 14px; line-height: 1.5; margin-bottom: 25px; }
    .open-btn {
      padding: 12px 25px; font-size: 16px; border: none;
      border-radius: 25px; background: white; color: black;
      font-weight: bold; cursor: pointer;
    }

    /* Mobile Content */
    .mobile-content {
      display: none;
      min-height: 100vh;
      background: rgba(0,0,0,0.6);
      color: white;
      padding: 20px;
      overflow-y: auto;
      text-align: center;
    }

    /* Music button */
    #music-control {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: rgba(0,0,0,0.6);
      color: white;
      border: 2px solid white;
      border-radius: 50%;
      width: 55px;
      height: 55px;
      font-size: 22px;
      cursor: pointer;
      display: none;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .container { display: none; } /* hide desktop */
      .mobile-cover { display: flex; } /* show cover */
    }
  </style>
</head>
<body>
  <!-- Background Music -->
  <audio id="bg-music" loop>
    <source src="music/Dive-Olivia Dean-Acoustic.mp3" type="audio/mpeg">
  </audio>
  <button id="music-control">üîä</button>

  <!-- Desktop view -->
  <div class="container">
    <div class="left"></div>
    <div class="right">
      <h3 style="margin-bottom:20px;">Dear Mr/Mrs [Guest Name]</h3>
      <h1>Zen & Yessica</h1>
      <p>Wedding Thanksgiving Greeting</p>
      <p>Saturday, 17 January 2025</p>
      <hr style="width:80%; margin:20px auto; border:0.5px solid #fff;">
      <p style="margin:20px 0; font-style:italic;">
        ‚ÄúSo they are no longer two, but one flesh.<br>
        What therefore God has joined together, let no man separate.‚Äù<br>
        Matthew 19:6
      </p>

      <!-- ‚úÖ Scrollable Sections -->
      <h2>The Groom</h2>
      <p>Zen</p>
      <h2>The Bride</h2>
      <p>Yessica</p>
      <h2>Save the Date</h2>
      <p>Saturday, 17 January 2025<br>Venue Name, City</p>
      <h2>Location</h2>
      <iframe src="https://www.google.com/maps/embed?..." style="width:100%; height:200px; border:0;"></iframe>
      <h2>Our Moment</h2>
      <img src="image/photo1.jpg" width="100%" style="margin-bottom:20px;">
      <h2>RSVP & Wishes</h2>
      <form id="rsvpForm">
        <input type="text" name="name" placeholder="Your Name" required
               style="width:90%; padding:10px; margin:5px 0;"><br>
        <select name="attendance" required style="width:90%; padding:10px; margin:5px 0;">
          <option value="">-- Apakah Anda akan hadir? --</option>
          <option value="Ya">Ya, saya akan hadir</option>
          <option value="Tidak">Maaf, saya tidak bisa hadir</option>
        </select><br>
        <textarea name="wishes" placeholder="Your wishes..."
                  style="width:90%; padding:10px; margin:5px 0;"></textarea><br>
        <button type="submit"
                style="padding:10px 20px; background:#bc8887; color:white; border:none; border-radius:8px;">
          Send
        </button>
      </form>
      <p id="responseMsg" style="margin-top:10px; font-size:14px;"></p>
    </div>
  </div>

  <!-- Mobile Cover -->
  <div class="mobile-cover" id="mobileCover">
    <div class="overlay">
      <p class="subtitle">WEDDING THANKSGIVING GREETINGS</p>
      <h1 class="couple">ZEN <span>&</span> YESSICA</h1>
      <p class="date">SATURDAY, JANUARY 17<sup>th</sup> 2025</p>
      <div class="guest">
        <p>Dear Mr./Mrs./Mr(s).</p>
        <h2>SDRI. YESSICA NATALIA</h2>
      </div>
      <p class="invite-text">
        Without diminishing respect,<br>
        We invite you to attend our wedding ceremony.
      </p>
      <button class="open-btn" onclick="openInvitation()">OPEN INVITATION</button>
    </div>
  </div>

  <!-- Mobile Content -->
  <div class="mobile-content" id="mobileContent">
    <h3 style="margin-bottom:20px;">Dear Mr/Mrs [Guest Name]</h3>
    <h1>Zen & Yessica</h1>
    <p>Saturday, 17 January 2025</p>
    <hr style="width:80%; margin:20px auto; border:0.5px solid #fff;">
    <p style="margin:20px 0; font-style:italic;">
      ‚ÄúSo they are no longer two, but one flesh.<br>
      What therefore God has joined together, let no man separate.‚Äù<br>
      Matthew 19:6
    </p>
    <h2>The Groom</h2>
    <p>Zen</p>
    <h2>The Bride</h2>
    <p>Yessica</p>
    <h2>Save the Date</h2>
    <p>Saturday, 17 January 2025<br>Venue Name, City</p>
    <h2>Location</h2>
    <iframe src="https://www.google.com/maps/embed?..." style="width:100%; height:200px; border:0;"></iframe>
    <h2>Our Moment</h2>
    <img src="image/photo1.jpg" width="100%" style="margin-bottom:20px;">
    <h2>RSVP & Wishes</h2>
    <form id="rsvpFormMobile">
      <input type="text" name="name" placeholder="Your Name" required
             style="width:90%; padding:10px; margin:5px 0;"><br>
      <select name="attendance" required style="width:90%; padding:10px; margin:5px 0;">
        <option value="">-- Apakah Anda akan hadir? --</option>
        <option value="Ya">Ya, saya akan hadir</option>
        <option value="Tidak">Maaf, saya tidak bisa hadir</option>
      </select><br>
      <textarea name="wishes" placeholder="Your wishes..."
                style="width:90%; padding:10px; margin:5px 0;"></textarea><br>
      <button type="submit"
              style="padding:10px 20px; background:#bc8887; color:white; border:none; border-radius:8px;">
        Send
      </button>
    </form>
    <p id="responseMsgMobile" style="margin-top:10px; font-size:14px;"></p>
  </div>

  <script>
    const music = document.getElementById("bg-music");
    const controlBtn = document.getElementById("music-control");

    function openInvitation() {
      document.getElementById("mobileCover").style.display = "none";
      document.getElementById("mobileContent").style.display = "block";
      music.play().catch(()=>{});
      controlBtn.style.display = "block";
    }

    controlBtn.addEventListener("click", () => {
      if (music.paused) {
        music.play();
        controlBtn.textContent = "üîä";
      } else {
        music.pause();
        controlBtn.textContent = "üîá";
      }
    });

    document.addEventListener("visibilitychange", () => {
      if (document.hidden) {
        music.pause();
        controlBtn.textContent = "üîá";
      } else {
        music.play().catch(()=>{});
        controlBtn.textContent = "üîä";
      }
    });

    // === RSVP FORM to Google Sheets ===
    const scriptURL = "https://script.google.com/macros/s/AKfycbwy5wdjUtJhOQRsKuvyGCLRWbFe9AMoFBib16n5Tl0/exec";

    function handleFormSubmit(formId, msgId) {
      const form = document.getElementById(formId);
      const msg = document.getElementById(msgId);
      if (!form) return;

      form.addEventListener("submit", (e) => {
        e.preventDefault();

        const formData = {
          name: form.name.value,
          attendance: form.attendance.value,
          wishes: form.wishes.value
        };

        console.log("üì§ Sending data:", formData);

        fetch(scriptURL, {
          method: "POST",
          body: JSON.stringify(formData),
          headers: { "Content-Type": "application/json" },
        })
        .then(res => res.json())
        .then(result => {
          console.log("‚úÖ Response:", result);
          if (result.result === "success") {
            msg.textContent = "‚úÖ RSVP berhasil dikirim!";
            msg.style.color = "lightgreen";
            form.reset();
          } else {
            msg.textContent = "‚ùå Gagal mengirim RSVP: " + (result.message || "Unknown error");
            msg.style.color = "red";
          }
        })
        .catch(err => {
          msg.textContent = "‚ùå Error koneksi ke server.";
          msg.style.color = "red";
          console.error("‚ùå Fetch error:", err);
        });
      });
    }

    // aktifkan form desktop & mobile
    handleFormSubmit("rsvpForm", "responseMsg");
    handleFormSubmit("rsvpFormMobile", "responseMsgMobile");
  </script>
</body>
</html>
